Summary: Clustering by Passing Messages between Data Points
Wang Kun1, Shi Shaopin2
(1,2Department of Information Engineering, Zhengzhou University, Zhengzhou 450000, Henan, China)

Abstract: Clustering data by identifying a subset of representative examples is important for processing sensory signals and detecting patterns in data. A new clustering algorithm named “affinity propagation” was published on Science in 2007. According to the similarity between N data points, a similarity matrix (N*N) is composed by the similarity figures between each two data points. Affinity Propagation (AP), which takes as input measures of similarity between pairs of data points. And Real-valued messages are always exchanged between data points until a high-quality set of exemplars and corresponding clusters gradually emerges. Affinity propagation found clusters with much lower error than other methods, and it did so in less than one-hundredth the amount of time. 
Keywords: clustering; Affinity Propagation (AP); similarity

1	Introduction to Affinity Propagation
1.1 Affinity Propagation
Affinity Propagation (AP) clustering algorithm is a new clustering algorithm proposed in the Journal Science in February 2007. AP achieves its clustering function by using the similarity between N data points .The similarity can be symmetrical, i.e. the similarity between the two data points are equal (such as Euclidean distance); It can also be asymmetric, i.e. the similarity between the two data are different .And a N * N Similarity matrix S is consisted by those similarities. The AP algorithm does not need to specify the number of clusters, on the contrary it will simultaneously considers all data points as potential clustering center , called exemplar. By viewing each data point as a node in a network, we devised a method that recursively transmits real-valued messages along edges of the network until a good set of exemplars and corresponding clusters emerges. As described later, messages are updated on the basis of simple formulas that search for minima of an appropriately chosen energy function. At any point in time, the magnitude of each message reflects the current affinity that one data point has for choosing another data point as its exemplar, so we call our method “affinity propagation”.
The numerical value S (k, k) which taken from the similarity matrix S can be an evaluation standard. That is to say S (k, k) can decide whether the point k can become a cluster center or not. And the bigger the S (k, k) is, the greater the possibility of point k can be the clustering center. This value(S (k, k)) is also known as the reference of P (preference).  Preference P has a big influence on the number of the clustering center. Initially, we think each data point can be the clustering center, so the P should take the same value. Because the number of identified exemplars (number of clusters) is influenced by the values of the input preferences ,that is to say: the number of the clusters is proportion to the value of input preferences P. So the preferences P should be set to a common value .The shared value could be the median of the input similarities (resulting in a moderate number of clusters). 
Two types of messages are delivering in the AP algorithm, which are responsibility(R) and availability (A).Both R and A are N*N matrix. The “responsibility” R(i, k) sent from data point i to candidate exemplar point k, which reflects the accumulated evidence for how well-suited point k is to serve as the exemplar for point i. The “availability” A(i, k) sent from candidate exemplar point k to point i, which reflects the accumulated evidence for how appropriate it would be for point i to choose point k as its exemplar. The stronger the R(i, k) and the A(i, k) are, the greater possibility of point i belongs to k and point k can be the clustering center. AP algorithm will updating the value of R and A by iterating until a fixed number of iterations or changes in the messages fall below a threshold or the local decisions stay constant for many times of iterations.
